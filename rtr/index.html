<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Raise the Region – Countdown</title>

  <style>
    :root { --r: 16px; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: #f3f3f3;
    }

    .wrap {
      max-width: 980px;
      margin: 0 auto;
      padding: 18px;
    }

    .card {
      border-radius: var(--r);
      box-shadow: 0 10px 28px rgba(0,0,0,.12);
      background: #fff;
      overflow: hidden;
    }

    .top {
      padding: 22px 18px 10px;
      text-align: center;
    }

    h1 {
      margin: 0 0 10px;
      font-size: clamp(22px, 3vw, 34px);
      line-height: 1.15;
    }

    .sub {
      margin: 0;
      color: #444;
      font-size: 16px;
    }

    .timerRow {
      display: flex;
      gap: 10px;
      justify-content: center;
      flex-wrap: wrap;
      padding: 14px 18px 18px;
    }

    .tile {
      min-width: 110px;
      padding: 12px 14px;
      border-radius: 14px;
      border: 1px solid #e5e5e5;
      background: #fafafa;
      text-align: center;
    }

    .num {
      font-size: 34px;
      font-weight: 800;
      line-height: 1;
    }

    .lbl {
      font-size: 12px;
      color: #666;
      margin-top: 6px;
      letter-spacing: .04em;
      text-transform: uppercase;
    }

    .ctaArea {
      padding: 0 18px 22px;
      text-align: center;
      display: none;
    }

    .note {
      margin: 12px 0 0;
      color: #555;
      font-size: 14px;
    }

    /* Holds the MightyCause button */
    #MC-embed-button {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 90px;
    }

    .logoBar {
      padding: 14px 18px 22px;
      display: flex;
      justify-content: center;
      background: #fff;
      border-top: 1px solid #eee;
    }

    .logoBar img {
      max-width: min(560px, 95%);
      height: auto;
      display: block;
    }

    @media (max-width: 520px) {
      .tile { min-width: 42%; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card">
      <div class="top">
        <h1>Raise the Region starts in…</h1>
        <p class="sub" id="subText">Check back when the timer hits zero to donate!</p>
      </div>

      <div class="timerRow" id="timerRow">
        <div class="tile"><div class="num" id="d">0</div><div class="lbl">Days</div></div>
        <div class="tile"><div class="num" id="h">00</div><div class="lbl">Hours</div></div>
        <div class="tile"><div class="num" id="m">00</div><div class="lbl">Minutes</div></div>
        <div class="tile"><div class="num" id="s">00</div><div class="lbl">Seconds</div></div>
      </div>

      <div class="ctaArea" id="ctaArea">
        <div id="MC-embed-button"></div>
        <p class="note">Thank you for supporting nonprofits across the region.</p>
      </div>

      <div class="logoBar">
        <!-- Make sure this filename matches your actual PNG name -->
        <img src="./imagecdn.mightycause.png" alt="Raise the Region">
      </div>
    </div>
  </div>

  <script>
    // March 11, 2026 @ 6:00 PM in Lewisburg (America/New_York).
    // Note: March 11 is in DST, so the offset is -04:00.
    const START = new Date("2026-03-11T18:00:00-04:00");

    const el = {
      d: document.getElementById("d"),
      h: document.getElementById("h"),
      m: document.getElementById("m"),
      s: document.getElementById("s"),
      timerRow: document.getElementById("timerRow"),
      ctaArea: document.getElementById("ctaArea"),
      subText: document.getElementById("subText")
    };

    function pad(n){ return String(n).padStart(2, "0"); }

    let embedLoaded = false;

    function loadMightyCauseButton() {
      if (embedLoaded) return;
      embedLoaded = true;

      // Load the widget script once
      const script = document.createElement("script");
      script.src = "https://downloads.mightycause.com/widgets/v1/embed.min.js";
      script.onload = () => {
        // Create the embedded button instance
        if (window.MCForms && window.MCForms.createEmbedInstance) {
          window.MCForms.createEmbedInstance({
            elementID: "MC-embed-button",
            url: "https://www.raisetheregion.org/forms/lewisburg-downtown-partnership?id=ft01mf&embed=button",
            id: "mc-embed-instance-ft01mf",
            width: "270",
            height: "86"
          });
        } else {
          // Fallback: if something blocks the widget, at least show a link
          const btn = document.getElementById("MC-embed-button");
          btn.innerHTML = '<a href="https://www.raisetheregion.org/forms/lewisburg-downtown-partnership?id=ft01mf" target="_blank" rel="noopener" style="font-weight:800;text-decoration:none;border:1px solid #111;border-radius:14px;padding:12px 16px;color:#111;display:inline-block;">Donate Now</a>';
        }
      };
      document.body.appendChild(script);
    }

    function tick() {
      const now = new Date();
      let diff = START - now;

      if (diff <= 0) {
        el.timerRow.style.display = "none";
        el.ctaArea.style.display = "block";
        el.subText.textContent = "Raise the Region is live! Donate below:";
        loadMightyCauseButton();
        return;
      }

      const sec = Math.floor(diff / 1000);
      const days = Math.floor(sec / 86400);
      const hours = Math.floor((sec % 86400) / 3600);
      const mins = Math.floor((sec % 3600) / 60);
      const secs = sec % 60;

      el.d.textContent = days;
      el.h.textContent = pad(hours);
      el.m.textContent = pad(mins);
      el.s.textContent = pad(secs);
    }

    tick();
    setInterval(tick, 1000);
  </script>
</body>
</html>